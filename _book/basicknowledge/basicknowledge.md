# 基础知识

　　本手册并不想详细说明，作为 tinc 的使用者，您只需要知道下面的大概就可以了。

原理，怎么用，什么步骤

## 技术实现
虚拟网卡，操作系统中的一种TAP/TUN设备，是模拟出来的一种网卡。可以类比您机器上安装的实体网卡。tinc基于虚拟网卡进行通讯。对于上层软件应用来说，虚拟网卡和实体网卡并没有什么不同，所以上层软件不需要任何修改和适配。

所以要使用，首先您的OS要支持TAP/TUN（目前常见的系统都支持）。第二要运行tinc。第三，画个图说明tinc网络中数据是怎么传输的，是怎么建立连接的。



## 可以跳过本章节，直接看实例，然后反过头来看这个。下面说的比较详细，普通用户可以不用看，看后面实例就足够了。



##  tinc是怎么运行的？各种脚本的执行如何按次序执行？都支持哪些脚本？



## How2use

  * [安装](todo.md)
  * [tinc配置](todo.md)
    * [tinc.conf 配置文件说明](todo.md)
    * [host 配置项目说明](todo.md)
  * [生成秘钥，传递公钥](todo.md)
  * [运行软件](todo.md)
  * [检查生效](todo.md)
  * [完成](todo.md)







## 如何使用

tinc 是个对等的网络，没有 server 和 client 之分，每个连接的设备都视为一个主机。各台机器上的配置文件都差不多。对于普通使用者来说，tinc的使用和其他软件并没有太大的不同。一般下面几个步骤就足够了：

安装，配置，运行

1、安装

tinc 是跨平台的应用，一般常见的平台都有现成的预编译软件可以直接使用。对于普通用户来说使用预编译的版本即可，即使不是最新版本作为个人使用也是足够的。

如果您有需要自己编译，那么需要具备配置内核、编译软件等相关知识。您可以参阅官网或者本手册的进阶部分以获得更进一步的信息。



2、配置

tinc有着自己的配置文件结构、可配置项非常多。不用担心，只要了解最基本的就可以了，大部分使用默认参数即可。

本节说明最基本的配置文件，如果有进一步的需求，请参阅官网或者本手册的进阶部分以获得更进一步的信息。

tinc 基本配置文件说明：

tinc 的配置文件一般是一个目录，由一系列文件组成。一个最简单的配置目录结构是酱紫的（括号里面的是注释和说明）：



注意：脚本需要可执行的权限。对于 Unix Like 系统，需要 chmod+x，对于windows系统，需要增加 “.bat”后缀名。

```
$TINC_CONFIG_DIR
     └── NETNAME_1 （tinc 网络的名称，在启动 tinc 的时候作为标识）
     		├── hosts （放置本节点要连接到的各节点的基本配置信息）
     		│   ├── HOST_1 （主机1的配置文件）
     		│   ├── HOST_2 （主机2的配置文件）
     		│   ├── ...
     		│   └── HOST_n （节点n的配置文件）
     		├── rsa_key.priv （由 tincd 生成的本主机使用的非对称私钥，加密通讯使用）
     		├── tinc.conf （tinc 网络的配置文件）
	 		├── tinc-down （关闭该网络时，会调用执行的脚本，可选）
	 		└── tinc-up （启动该网络时，会调用执行的脚本，可选）
```

最简单的配置文件是酱紫的

tinc.conf

```
Name = node_010_034_034_102
AddressFamily = ipv4
Cipher = aes-256-cbc
Digest = SHA512
#Interface = /dev/tap0
Device = /dev/tap0

Port = 34

Compression = 11

ConnectTo = node_010_034_000_001

```

rsa_key.priv

tinc-down

```
#!/bin/sh

ifconfig $INTERFACE down
```

tinc-up

```
#!/bin/sh

#ifconfig $INTERFACE up
ifconfig $INTERFACE 10.34.34.102 netmask 255.255.0.0
```

/hosts/自己节点的描述文件和要connectto的主机描述文件。



- 配置文件

  [tinc.conf 配置文件说明](todo.md)

  - [host 配置项目说明](todo.md)

- [生成秘钥，传递公钥](todo.md)

- [运行软件](todo.md)

- [检查生效](todo.md)

- [完成](todo.md)

## 